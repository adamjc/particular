var Random=function(){var a={};return a.rangeInt=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},a.range=function(a,b){return Math.random()*(b-a+1)+a},a.chance=function(a){return 100*Math.random()>a?!0:!1},a}(),Particular=function(){function a(a,b){function c(){p+=.002,l=window.requestAnimationFrame(c),g(),d()}function d(){k.clearRect(0,0,j.width,j.height);for(var a=0;a<o.length;a++)k.beginPath(),k.arc(o[a].x,o[a].y,o[a].calculatedWidth,0,2*Math.PI),k.fillStyle="rgba(255, 255, 255, "+o[a].opacity+")",k.fill()}function e(){for(var a=0;n>a;a++){var b=i();b.initialize(),o.push(b)}}function f(){for(var a=0;a<o.length;a++){o[a].y=500*o[a].yVel;var b=Math.cos(o[a].xVel);o[a].x+=b,o[a].lifeTime=250,o[a].opacity=1-o[a].lifeTime/o[a].maxLifeTime}}function g(){for(var a=0;a<o.length;a++){o[a].y+=o[a].yVel;var b=Math.cos(o[a].xVel);o[a].x+=b,o[a].lifeTime++,o[a].opacity=1-o[a].lifeTime/o[a].maxLifeTime,(o[a].y>j.height+o[a].calculatedHeight||o[a].lifeTime>o[a].maxLifeTime)&&h(o[a])}}function h(a){a.initialize()}function i(){var a={x:0,startX:0,y:0,xVel:0,yVel:1,width:5,calculatedWidth:0,height:5,calculatedHeight:0,lifeTime:0,maxLifeTime:0,colour:"#000",opacity:1,scale:0,initialize:function(){this.startX=Random.range(0,j.width),this.y=-this.width,this.x=Random.range(0,j.width),this.yVel=Random.range(.1,.5),this.xVel=Random.range(-5,5),this.opacity=1,this.lifeTime=0,this.maxLifeTime=Random.rangeInt(100,1e3),this.scale=this.yVel/1,this.calculatedHeight=this.scale*this.height,this.calculatedWidth=this.scale*this.width}};return Object.create(a)}var j,k,l,b=b||{},m={},n=b.particleAmount||100,o=[],p=0;return j=a,k=j.getContext("2d"),m.start=function(){j.width=j.parentNode.offsetWidth,j.height=j.parentNode.offsetHeight,e(),f(),c()},m.stop=function(){window.cancelAnimationFrame(l)},m.updateParticleAmount=function(a){if(a<o.length)o=o.slice(0,a);else for(var b=a-o.length,c=0;b>c;c++){var d=i();d.initialize(),o.push(d)}},m}var b={};return b.hook=function(b,c){return a(b,c)},b}();